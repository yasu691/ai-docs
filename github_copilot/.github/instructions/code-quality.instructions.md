---
applyTo: "**"
---

# コード品質・クリーンコードガイドライン

## AIアシスタントへの指示

- 情報の検証: 情報を提示する前に必ず検証する。明確な証拠なしに推測や憶測を行わない
- ファイル単位での変更: ファイルごとに変更を行い、作業者がミスを発見する機会を与える
- 謝罪の禁止: 謝罪は絶対に使用しない
- 理解に関するフィードバックの禁止: コメントやドキュメントで理解に関するフィードバックを提供することは避ける
- 空白文字の変更提案の禁止: 空白文字の変更を提案しない
- 要約の禁止: 行った変更を要約しない
- 発明の禁止: 明示的に要求された以外の変更を発明しない
- 不要な確認の禁止: コンテキストで既に提供されている情報の確認を求めない
- 既存コードの保持: 関連のないコードや機能を削除しない。既存の構造を保持することに注意する
- 単一チャンクでの編集: 同じファイルに対して複数ステップの指示や説明ではなく、すべての編集を単一のチャンクで提供する
- 実装チェックの禁止: 提供されたコンテキストで確認可能な実装についてユーザーに検証を求めない
- 不要な更新の禁止: 実際の修正が必要ない場合は、ファイルの更新や変更を提案しない
- 実際のファイルリンクの提供: x.mdではなく、常に実際のファイルへのリンクを提供する
- 現在の実装の説明禁止: 特に要求されない限り、現在の実装を表示または説明しない

## クリーンコード原則

### マジックナンバーよりも定数を使用

- ハードコードされた値を名前付き定数に置き換える
- 値の目的を説明する分かりやすい定数名を使用する
- 定数はファイルの先頭または専用の定数ファイルに配置する

### 意味のある名前

- 変数、関数、クラスはその目的を明確にする
- 名前は何故それが存在し、どのように使用されるかを説明する
- 一般的に理解される場合を除き、略語は避ける

### 賢いコメント

- コードが何をするかをコメントしない - コードを自己文書化する
- なぜそのような方法で実装したかを説明するためにコメントを使用する
- API、複雑なアルゴリズム、明らかでない副作用を文書化する

### 単一責任

- 各関数は正確に一つのことを行う
- 関数は小さく、焦点を絞る
- 関数が何をするかを説明するコメントが必要な場合は、分割すべき

### DRY（繰り返しを避ける）

- 重複するコードを再利用可能な関数に抽出する
- 適切な抽象化を通じて共通ロジックを共有する
- 単一の情報源を維持する

### クリーンな構造

- 関連するコードをまとめて配置する
- 論理的な階層でコードを整理する
- 一貫したファイルとフォルダの命名規則を使用する

### カプセル化

- 実装の詳細を隠蔽する
- 明確なインターフェースを公開する
- ネストした条件分岐を適切に名前付けされた関数に移動する

### コード品質の維持

- 継続的にリファクタリングを行う
- 技術的負債を早期に修正する
- 発見したコードよりもクリーンな状態で残す

### テスト

- バグ修正前にテストを書く
- テストを読みやすく保守しやすく保つ
- エッジケースとエラー条件をテストする

### バージョン管理

- 明確なコミットメッセージを書く
- 小さく、焦点を絞ったコミットを作成する
- 意味のあるブランチ名を使用する
